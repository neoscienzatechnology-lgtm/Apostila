<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Aula 3.6 - ES6+ Features e Projeto Final</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');
    body{font-family:'Poppins',sans-serif}
    .code-example{background:#2d3748;border-radius:8px}
  </style>
</head>
<body class="bg-yellow-50 min-h-screen py-8">
  <div class="container mx-auto max-w-4xl px-4">
    <header class="mb-6">
      <div class="bg-white rounded-2xl shadow p-6">
        <h1 class="text-3xl font-bold text-yellow-800">Aula 3.6: ES6+ Features e Projeto Final</h1>
        <p class="text-gray-600 mt-2">Recursos modernos do JavaScript e desenvolvimento do projeto final do módulo.</p>
      </div>
    </header>

    <section class="bg-white rounded-2xl shadow p-6 mb-6">
      <h2 class="text-2xl font-semibold mb-3">1. Template Literals</h2>
      <p class="text-gray-700 mb-3">Strings com interpolação e múltiplas linhas usando backticks.</p>
      <div class="code-example p-4"><pre><code class="language-js">// Interpolação de variáveis
const nome = 'Maria';
const idade = 25;
const mensagem = `Olá, ${nome}! Você tem ${idade} anos.`;

// Múltiplas linhas
const html = `
  <div class="card">
    <h2>${nome}</h2>
    <p>Idade: ${idade}</p>
  </div>
`;

// Expressões complexas
const preco = 29.99;
const desconto = 0.1;
const total = `Total: R$ ${(preco * (1 - desconto)).toFixed(2)}`;

// Tagged templates (avançado)
function highlight(strings, ...values) {
  return strings.reduce((result, string, i) => {
    const value = values[i] ? `<mark>${values[i]}</mark>` : '';
    return result + string + value;
  }, '');
}

const texto = highlight`Olá ${nome}, bem-vinda!`;</code></pre></div>
    </section>

    <section class="bg-white rounded-2xl shadow p-6 mb-6">
      <h2 class="text-2xl font-semibold mb-3">2. Destructuring</h2>
      <p class="text-gray-700 mb-3">Extrair valores de arrays e objetos de forma concisa.</p>
      <div class="code-example p-4"><pre><code class="language-js">// Destructuring de arrays
const cores = ['vermelho', 'verde', 'azul'];
const [primeira, segunda, terceira] = cores;
const [r, g, b, alpha = 1] = cores; // valor padrão

// Destructuring de objetos
const usuario = { nome: 'João', idade: 30, email: 'joao@email.com' };
const { nome, idade } = usuario;
const { nome: nomeUsuario, cidade = 'São Paulo' } = usuario; // renomear e valor padrão

// Destructuring aninhado
const dados = {
  usuario: { nome: 'Ana', perfil: { tipo: 'admin' } },
  configuracoes: { tema: 'dark' }
};
const { usuario: { nome: nomeUser, perfil: { tipo } } } = dados;

// Em parâmetros de função
function criarCard({ titulo, descricao, autor = 'Anônimo' }) {
  return `<div><h3>${titulo}</h3><p>${descricao}</p><small>Por: ${autor}</small></div>`;
}

// Rest em destructuring
const [primeiro, ...resto] = [1, 2, 3, 4, 5];
const { nome: n, ...outrosDados } = usuario;</code></pre></div>
    </section>

    <section class="bg-white rounded-2xl shadow p-6 mb-6">
      <h2 class="text-2xl font-semibold mb-3">3. Default Parameters</h2>
      <p class="text-gray-700 mb-3">Valores padrão para parâmetros de função.</p>
      <div class="code-example p-4"><pre><code class="language-js">// Parâmetros padrão simples
function saudar(nome = 'Visitante', saudacao = 'Olá') {
  return `${saudacao}, ${nome}!`;
}

console.log(saudar()); // "Olá, Visitante!"
console.log(saudar('Maria')); // "Olá, Maria!"
console.log(saudar('João', 'Oi')); // "Oi, João!"

// Parâmetros padrão com expressões
function criarUsuario(nome, idade = new Date().getFullYear() - 2000) {
  return { nome, idade };
}

// Parâmetros padrão com outros parâmetros
function calcular(a, b = a * 2, c = a + b) {
  return a + b + c;
}

// Com destructuring
function configurarAPI({ 
  baseURL = 'https://api.exemplo.com', 
  timeout = 5000, 
  headers = {} 
} = {}) {
  return { baseURL, timeout, headers };
}</code></pre></div>
    </section>

    <section class="bg-white rounded-2xl shadow p-6 mb-6">
      <h2 class="text-2xl font-semibold mb-3">4. Módulos ES6</h2>
      <p class="text-gray-700 mb-3">Sistema de módulos nativo do JavaScript para organizar código.</p>
      <div class="code-example p-4"><pre><code class="language-js">// utils.js - Exportações nomeadas
export const PI = 3.14159;
export function calcularArea(raio) {
  return PI * raio * raio;
}
export class Calculadora {
  somar(a, b) { return a + b; }
}

// math.js - Exportação padrão
export default function multiplicar(a, b) {
  return a * b;
}

// Também pode exportar objeto como padrão
export default {
  somar: (a, b) => a + b,
  subtrair: (a, b) => a - b
};

// main.js - Importações
import multiplicar from './math.js'; // importação padrão
import { PI, calcularArea, Calculadora } from './utils.js'; // importações nomeadas
import * as Utils from './utils.js'; // importar tudo
import { calcularArea as area } from './utils.js'; // renomear

// Importação dinâmica
async function carregarModulo() {
  const modulo = await import('./utils.js');
  console.log(modulo.PI);
}

// Re-exportação
export { PI, calcularArea } from './utils.js';
export { default as multiplicar } from './math.js';</code></pre></div>
    </section>

    <section class="bg-white rounded-2xl shadow p-6 mb-6">
      <h2 class="text-2xl font-semibold mb-3">5. Classes</h2>
      <p class="text-gray-700 mb-3">Sintaxe de classe para programação orientada a objetos.</p>
      <div class="code-example p-4"><pre><code class="language-js">// Classe básica
class Pessoa {
  constructor(nome, idade) {
    this.nome = nome;
    this.idade = idade;
  }
  
  // Método
  apresentar() {
    return `Olá, eu sou ${this.nome} e tenho ${this.idade} anos.`;
  }
  
  // Método estático
  static criarBebe(nome) {
    return new Pessoa(nome, 0);
  }
  
  // Getter
  get maiorIdade() {
    return this.idade >= 18;
  }
  
  // Setter
  set novaIdade(idade) {
    if (idade >= 0) this.idade = idade;
  }
}

// Herança
class Funcionario extends Pessoa {
  constructor(nome, idade, cargo, salario) {
    super(nome, idade); // chama construtor da classe pai
    this.cargo = cargo;
    this.salario = salario;
  }
  
  apresentar() {
    return `${super.apresentar()} Trabalho como ${this.cargo}.`;
  }
  
  // Método privado (ES2022)
  #calcularBonus() {
    return this.salario * 0.1;
  }
  
  get salarioComBonus() {
    return this.salario + this.#calcularBonus();
  }
}

// Uso
const pessoa = new Pessoa('Ana', 25);
const funcionario = new Funcionario('Carlos', 30, 'Desenvolvedor', 5000);
const bebe = Pessoa.criarBebe('Sofia');</code></pre></div>
    </section>

    <section class="bg-white rounded-2xl shadow p-6 mb-6">
      <h2 class="text-2xl font-semibold mb-3">6. Outros Recursos ES6+</h2>
      <div class="code-example p-4"><pre><code class="language-js">// Symbol - tipo primitivo único
const id = Symbol('id');
const obj = { [id]: 123, nome: 'Teste' };

// Map e Set
const mapa = new Map();
mapa.set('chave', 'valor');
mapa.set(1, 'número');

const conjunto = new Set([1, 2, 3, 3, 4]); // [1, 2, 3, 4]

// WeakMap e WeakSet (referências fracas)
const weakMap = new WeakMap();
const weakSet = new WeakSet();

// Proxy (interceptar operações)
const usuario = { nome: 'João' };
const proxy = new Proxy(usuario, {
  get(target, prop) {
    console.log(`Acessando ${prop}`);
    return target[prop];
  },
  set(target, prop, value) {
    console.log(`Definindo ${prop} = ${value}`);
    target[prop] = value;
    return true;
  }
});

// Optional Chaining (?.) - ES2020
const dados = { usuario: { perfil: { nome: 'Ana' } } };
const nome = dados?.usuario?.perfil?.nome; // 'Ana'
const telefone = dados?.usuario?.contato?.telefone; // undefined

// Nullish Coalescing (??) - ES2020
const config = {
  tema: null,
  timeout: 0
};
const tema = config.tema ?? 'light'; // 'light'
const timeout = config.timeout ?? 5000; // 0 (não usa o padrão)</code></pre></div>
    </section>

    <section class="bg-white rounded-2xl shadow p-6 mb-6">
      <h2 class="text-2xl font-semibold mb-3">7. Projeto Final: Aplicação de Lista de Tarefas</h2>
      <div class="bg-gradient-to-r from-blue-50 to-indigo-50 p-6 rounded-lg">
        <h3 class="text-xl font-bold text-indigo-800 mb-4">Especificações do Projeto</h3>
        
        <div class="mb-6">
          <h4 class="font-semibold text-indigo-700 mb-2">Funcionalidades Obrigatórias:</h4>
          <ul class="list-disc pl-6 text-gray-700 space-y-1">
            <li>Adicionar nova tarefa com título e descrição</li>
            <li>Marcar tarefa como concluída/pendente</li>
            <li>Editar tarefa existente</li>
            <li>Remover tarefa</li>
            <li>Filtrar tarefas (todas, pendentes, concluídas)</li>
            <li>Persistir dados no localStorage</li>
            <li>Interface responsiva</li>
          </ul>
        </div>
        
        <div class="mb-6">
          <h4 class="font-semibold text-indigo-700 mb-2">Recursos Técnicos a Utilizar:</h4>
          <ul class="list-disc pl-6 text-gray-700 space-y-1">
            <li>Classes ES6 para organizar o código</li>
            <li>Módulos para separar responsabilidades</li>
            <li>Template literals para geração de HTML</li>
            <li>Destructuring para manipular dados</li>
            <li>Arrow functions e métodos de array</li>
            <li>Async/await para operações assíncronas (se necessário)</li>
            <li>Event delegation para performance</li>
          </ul>
        </div>
        
        <div class="mb-6">
          <h4 class="font-semibold text-indigo-700 mb-2">Estrutura Sugerida:</h4>
          <div class="code-example p-4 mt-2">
            <pre><code class="language-js">// Estrutura de arquivos
projeto-final/
├── index.html
├── css/
│   └── style.css
├── js/
│   ├── main.js
│   ├── models/
│   │   └── Task.js
│   ├── services/
│   │   └── TaskService.js
│   └── components/
│       ├── TaskList.js
│       ├── TaskForm.js
│       └── TaskFilter.js</code></pre>
          </div>
        </div>
        
        <div class="mb-6">
          <h4 class="font-semibold text-indigo-700 mb-2">Funcionalidades Extras (Opcionais):</h4>
          <ul class="list-disc pl-6 text-gray-700 space-y-1">
            <li>Drag and drop para reordenar tarefas</li>
            <li>Categorias/tags para tarefas</li>
            <li>Data de vencimento</li>
            <li>Busca por texto</li>
            <li>Estatísticas (total, concluídas, pendentes)</li>
            <li>Tema escuro/claro</li>
            <li>Exportar/importar dados</li>
          </ul>
        </div>
        
        <div class="bg-white p-4 rounded border-l-4 border-indigo-400">
          <h4 class="font-semibold text-indigo-800 mb-2">Critérios de Avaliação:</h4>
          <ul class="list-disc pl-6 text-gray-700 space-y-1">
            <li><strong>Funcionalidade:</strong> Todas as funcionalidades obrigatórias implementadas</li>
            <li><strong>Código:</strong> Uso correto dos recursos ES6+, organização e legibilidade</li>
            <li><strong>Interface:</strong> Design responsivo e usabilidade</li>
            <li><strong>Persistência:</strong> Dados salvos corretamente no localStorage</li>
            <li><strong>Tratamento de erros:</strong> Validações e feedback ao usuário</li>
          </ul>
        </div>
      </div>
    </section>

    <section class="bg-white rounded-2xl shadow p-6 mb-6">
      <h2 class="text-2xl font-semibold mb-3">8. Exemplo de Implementação Base</h2>
      <div class="code-example p-4"><pre><code class="language-js">// Task.js - Modelo da tarefa
export class Task {
  constructor(id, titulo, descricao = '', concluida = false) {
    this.id = id;
    this.titulo = titulo;
    this.descricao = descricao;
    this.concluida = concluida;
    this.criadaEm = new Date();
  }
  
  toggle() {
    this.concluida = !this.concluida;
  }
  
  toJSON() {
    return {
      id: this.id,
      titulo: this.titulo,
      descricao: this.descricao,
      concluida: this.concluida,
      criadaEm: this.criadaEm
    };
  }
}

// TaskService.js - Gerenciamento de dados
export class TaskService {
  constructor() {
    this.tasks = this.loadTasks();
  }
  
  loadTasks() {
    const data = localStorage.getItem('tasks');
    return data ? JSON.parse(data).map(t => new Task(t.id, t.titulo, t.descricao, t.concluida)) : [];
  }
  
  saveTasks() {
    localStorage.setItem('tasks', JSON.stringify(this.tasks));
  }
  
  addTask(titulo, descricao) {
    const id = Date.now().toString();
    const task = new Task(id, titulo, descricao);
    this.tasks.push(task);
    this.saveTasks();
    return task;
  }
  
  removeTask(id) {
    this.tasks = this.tasks.filter(task => task.id !== id);
    this.saveTasks();
  }
  
  toggleTask(id) {
    const task = this.tasks.find(t => t.id === id);
    if (task) {
      task.toggle();
      this.saveTasks();
    }
  }
  
  getTasks(filter = 'all') {
    switch (filter) {
      case 'pending': return this.tasks.filter(t => !t.concluida);
      case 'completed': return this.tasks.filter(t => t.concluida);
      default: return this.tasks;
    }
  }
}</code></pre></div>
    </section>

    <section class="bg-white rounded-2xl shadow p-6 mb-6">
      <h2 class="text-2xl font-semibold mb-3">9. Próximos Passos</h2>
      <div class="bg-green-50 p-4 rounded-lg">
        <h4 class="font-semibold text-green-800 mb-2">Após completar o projeto:</h4>
        <ul class="list-disc pl-6 text-green-700 space-y-1">
          <li>Teste a aplicação em diferentes navegadores</li>
          <li>Valide a acessibilidade básica</li>
          <li>Otimize o código e remova duplicações</li>
          <li>Documente as funcionalidades implementadas</li>
          <li>Prepare uma apresentação de 5 minutos do projeto</li>
        </ul>
      </div>
    </section>

    <footer class="text-sm text-gray-600 mb-8">Aula 3.6: ES6+ Features e Projeto Final — Aplicando conhecimentos modernos do JavaScript.</footer>
  </div>
</body>
</html>